# to
dirList=(48 49 474 475 477 901 1213 1222 1715 1753 1756 1901 1926 1948 1970 2082 2126 2135 2141 2174 2176 2179 2182 2193 2239 2318 2342 2374 2501 2509 2528 2552 2571 2591 2593 2608 2701 2757 2774 2930 355 467 476 781 899 1245 1639 1648 1670 2040 2096 2100 2235 2290 2352 2369 2466 2508 2526 2561 2572 2573 2584 2597 2598 2599 2603 2604 2605 2606 2607 2609 2612 2629 2635 2643 2645 2649 2655 2656 2658 2661 2667 2672 2675 2676 2680 2692 2730 2731 2733 2736 2738 2739 2747 2748 2751 2756 2764 2778 2779 2780 2784 2785 2789 2800 2837 2848 2849 2863 2877 2888 2892 2897 2898 2899 2900 2901 2902 2903 2908 2911 2917 2919 2926 2934 2945 2946 2947 2948 2949 2951 2952 2967 2972 2973 2981)
# oom
dirList=(430 437 470 473 485 539 554 589 596 597 614 618 668 692 697 703 706 712 713 787 796 804 819 825 848 863 896 911 965 980 989 1015 1022 1023 1040 1118 1123 1129 1131 1223 1274 1289 1322 1324 1334 1337 1403 1404 1406 1415 1441 1448 1466 1475 1515 1526 1544 1549 1555 1557 1558 1649 1656 1657 1674 1700 1748 1750 1829 1830 1832 1841 1890 1892 1895 1896 1897 1983 1984 2075 2083 2102 2255 2256 2257 2258 2267 2316 2321 2322 2323 2349 2445 2547)

RESULTS_DIR=/blue/akazachkov/akazachkov/results/2022-11-03

# Can happen that instances computing gmic results restarted the index in the folder str-d0
RESTART_INDEX=2556

for dir_name in ${dirList[*]}; do
  if (($dir_name > $RESTART_INDEX)); then
    echo "$dir_name > $RESTART_INDEX; setting to $((dir_name-RESTART_INDEX))"
    dir_name=$((dir_name-RESTART_INDEX))
    FILE_TO_DELETE="vpc-gmic.csv"
    FILE_TO_DELETE="vpc-gmic" # temporarily this
    NUM_DIGITS=3
  else
    FILE_TO_DELETE="vpc-str.csv"
    NUM_DIGITS=4
  fi
  CASE_NUM=`printf %0${NUM_DIGITS}d $dir_name`
  echo "rm $RESULTS_DIR/*/$CASE_NUM/$FILE_TO_DELETE"
  rm $RESULTS_DIR/*/$CASE_NUM/$FILE_TO_DELETE
done # loop over dirList
